<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Geomask</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />

        <link href="static/lib/bootstrap/css/bootstrap.css" rel="stylesheet" />
        <link href="static/lib/bootstrap/css/bootstrap-responsive.css" rel="stylesheet" />
        <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
          <script src="static/lib/bootstrap/js/html5shiv.js"></script>
        <![endif]-->
        
        <link href="static/page.css" rel="stylesheet" />
        
        <!-- From http://www.iconfinder.com/icondetails/36182/32/map_icon -->
        <link href="static/images/favicon.ico" rel="shortcut icon" />
    </head>

    <body>
        <div class="container">
            <div class="masthead">
                <h3 class="muted2">maps.vasile.ch/geomask</h3>
            </div>
            
            <div class="row">
                <div class="span9">
                    <div id="map_canvas"></div>
                    <div><strong>Coords:</strong> <span id="coordinates"></span> <strong>Zoom:</strong> <span id="zoom"></span></div>
                </div>
                <div class="span3">
                    <h4>Select the area of interest</h4>
                    <div class="control-group section">
                        <div class="controls">
                            <div class="input-prepend">
                                <span class="add-on"><i class="icon-globe pointer" id="geolocation_trigger"></i></span>
                                <input class="span2" type="text" id="area_of_interest" />
                            </div>
                        </div>
                    </div>
                    
                    <h4>Draw the geomask</h4>
                    <div class="section">
                        <table class="table hide table-condensed table-striped table-bordered" id="table_paths">
                            <thead>
                                <tr>
                                  <th>Path name</th>
                                  <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    
                        <button class="btn btn-primary" id="polygon_main_add" disabled="disabled">New hole</button>
                        <button class="btn btn-danger" id="polygon_reset">RESET</button>
                    </div>

                    <h4>Grab the coordinates</h4>
                    <div class="section">
                        <div class="export">
                            <span class="label label-success">GeoJSON</span>
                            <span class="label label-important hide" id="geojson_alert">Invalid GeoJSON</span>
                            <textarea rows="4" class="btn-block" id="coordinates_geojson">{
                                "type": "FeatureCollection",
                                "features": [{
                                    "type": "Feature",
                                    "geometry": {
                                        "type": "Polygon",
                                        "coordinates": [
                                            [
                                                [25.890036, 44.540184],
                                                [25.921287, 44.516418],
                                                [25.911625, 44.500006],
                                                [25.897622, 44.48208],
                                                [25.915053, 44.480094],
                                                [25.915017, 44.477832],
                                                [25.898317, 44.451952],
                                                [25.878835, 44.460618],
                                                [25.870843, 44.459787],
                                                [25.866994, 44.463627],
                                                [25.865512, 44.470187],
                                                [25.8692, 44.472123],
                                                [25.869987, 44.474736],
                                                [25.865049, 44.478108],
                                                [25.857682, 44.474771],
                                                [25.850282, 44.469053],
                                                [25.850179, 44.467744],
                                                [25.858157, 44.467564],
                                                [25.864465, 44.444656],
                                                [25.863842, 44.441863],
                                                [25.856371, 44.4368],
                                                [25.863028, 44.431868],
                                                [25.853415, 44.427893],
                                                [25.866122, 44.422081],
                                                [25.863691, 44.420611],
                                                [25.868379, 44.417539],
                                                [25.835544, 44.404214],
                                                [25.827499, 44.399154],
                                                [25.826139, 44.396902],
                                                [25.826034, 44.38958],
                                                [25.829178, 44.388783],
                                                [25.835513, 44.390582],
                                                [25.850314, 44.386482],
                                                [25.855594, 44.389895],
                                                [25.85812, 44.386661],
                                                [25.855254, 44.378111],
                                                [25.856599, 44.373636],
                                                [25.868697, 44.366756],
                                                [25.867641, 44.362776],
                                                [25.861797, 44.36038],
                                                [25.867994, 44.358606],
                                                [25.871512, 44.355305],
                                                [25.890872, 44.357118],
                                                [25.894778, 44.352086],
                                                [25.890132, 44.346705],
                                                [25.896503, 44.345643],
                                                [25.91001, 44.334104],
                                                [25.928622, 44.336155],
                                                [25.943684, 44.328946],
                                                [25.952724, 44.328989],
                                                [25.954139, 44.324214],
                                                [25.950204, 44.321926],
                                                [25.948747, 44.31908],
                                                [25.950943, 44.316442],
                                                [25.962039, 44.315574],
                                                [25.967537, 44.317075],
                                                [25.970003, 44.320745],
                                                [25.968004, 44.325167],
                                                [25.970947, 44.327583],
                                                [25.975069, 44.326118],
                                                [25.981024, 44.320292],
                                                [25.991828, 44.316863],
                                                [25.995741, 44.312959],
                                                [25.994486, 44.307434],
                                                [25.997068, 44.303303],
                                                [25.988857, 44.288493],
                                                [25.972724, 44.270358],
                                                [25.975766, 44.268962],
                                                [25.991478, 44.286684],
                                                [25.997266, 44.295563],
                                                [25.997656, 44.298952],
                                                [26.00649, 44.301672],
                                                [26.015066, 44.294332],
                                                [26.020675, 44.292793],
                                                [26.028734, 44.29391],
                                                [26.033013, 44.292144],
                                                [26.034077, 44.282074],
                                                [26.043075, 44.280145],
                                                [26.049174, 44.273719],
                                                [26.056168, 44.271034],
                                                [26.059813, 44.266475],
                                                [26.075582, 44.267992],
                                                [26.087579, 44.267163],
                                                [26.0891, 44.26429],
                                                [26.088649, 44.257925],
                                                [26.092437, 44.252352],
                                                [26.11235, 44.245489],
                                                [26.125407, 44.244049],
                                                [26.139892, 44.235212],
                                                [26.143606, 44.234579],
                                                [26.150616, 44.237365],
                                                [26.162291, 44.237304],
                                                [26.172993, 44.250647],
                                                [26.181157, 44.244787],
                                                [26.204949, 44.269896],
                                                [26.210323, 44.265373],
                                                [26.212785, 44.260286],
                                                [26.225114, 44.271404],
                                                [26.22192, 44.273165],
                                                [26.228515, 44.279404],
                                                [26.233194, 44.277329],
                                                [26.25335, 44.297466],
                                                [26.276342, 44.316778],
                                                [26.252824, 44.329723],
                                                [26.280041, 44.349122],
                                                [26.28669, 44.345891],
                                                [26.292524, 44.350825],
                                                [26.294981, 44.349368],
                                                [26.301645, 44.354292],
                                                [26.305713, 44.350673],
                                                [26.32278, 44.360535],
                                                [26.321903, 44.362093],
                                                [26.316784, 44.359593],
                                                [26.313763, 44.361772],
                                                [26.329945, 44.372595],
                                                [26.326755, 44.374657],
                                                [26.316656, 44.372216],
                                                [26.314518, 44.373074],
                                                [26.311274, 44.383769],
                                                [26.312968, 44.388928],
                                                [26.309523, 44.394445],
                                                [26.317904, 44.394229],
                                                [26.320365, 44.385627],
                                                [26.334075, 44.389752],
                                                [26.322063, 44.398169],
                                                [26.338072, 44.404647],
                                                [26.339999, 44.401767],
                                                [26.345763, 44.399674],
                                                [26.346241, 44.405919],
                                                [26.349152, 44.409694],
                                                [26.375522, 44.421937],
                                                [26.380369, 44.419675],
                                                [26.392364, 44.424469],
                                                [26.403246, 44.417606],
                                                [26.411551, 44.424349],
                                                [26.465908, 44.448302],
                                                [26.461586, 44.454847],
                                                [26.451951, 44.455151],
                                                [26.459289, 44.459342],
                                                [26.450254, 44.463686],
                                                [26.449248, 44.456733],
                                                [26.443767, 44.456923],
                                                [26.437509, 44.462659],
                                                [26.426311, 44.456907],
                                                [26.39524, 44.457594],
                                                [26.394542, 44.466592],
                                                [26.383457, 44.465419],
                                                [26.384937, 44.471652],
                                                [26.378156, 44.469711],
                                                [26.374486, 44.476185],
                                                [26.377171, 44.477224],
                                                [26.360666, 44.486057],
                                                [26.399291, 44.511601],
                                                [26.406425, 44.507344],
                                                [26.416067, 44.520926],
                                                [26.417025, 44.522274],
                                                [26.41201, 44.524778],
                                                [26.412708, 44.526079],
                                                [26.40365, 44.530062],
                                                [26.395247, 44.516414],
                                                [26.389476, 44.53244],
                                                [26.363977, 44.527632],
                                                [26.356275, 44.536357],
                                                [26.361922, 44.539325],
                                                [26.348058, 44.551577],
                                                [26.361105, 44.561125],
                                                [26.356019, 44.564401],
                                                [26.378531, 44.582941],
                                                [26.36952, 44.589361],
                                                [26.404565, 44.61203],
                                                [26.409173, 44.616437],
                                                [26.428421, 44.599347],
                                                [26.455627, 44.61418],
                                                [26.44859, 44.619391],
                                                [26.456338, 44.622506],
                                                [26.448521, 44.626596],
                                                [26.458584, 44.632181],
                                                [26.453316, 44.641477],
                                                [26.421249, 44.632896],
                                                [26.422082, 44.629492],
                                                [26.376017, 44.620657],
                                                [26.365986, 44.644057],
                                                [26.347254, 44.670298],
                                                [26.337208, 44.676014],
                                                [26.344317, 44.68742],
                                                [26.367428, 44.690655],
                                                [26.367505, 44.707919],
                                                [26.35462, 44.720874],
                                                [26.347377, 44.736023],
                                                [26.339048, 44.744219],
                                                [26.319607, 44.756117],
                                                [26.316196, 44.760383],
                                                [26.301135, 44.766868],
                                                [26.285793, 44.768413],
                                                [26.279044, 44.765573],
                                                [26.271666, 44.756964],
                                                [26.264564, 44.756984],
                                                [26.264218, 44.752642],
                                                [26.252764, 44.736993],
                                                [26.249049, 44.738999],
                                                [26.239875, 44.739636],
                                                [26.240019, 44.742432],
                                                [26.237152, 44.745083],
                                                [26.220504, 44.747884],
                                                [26.217963, 44.750174],
                                                [26.193519, 44.751863],
                                                [26.18661, 44.757116],
                                                [26.182869, 44.758048],
                                                [26.177147, 44.756084],
                                                [26.179639, 44.751295],
                                                [26.172848, 44.750115],
                                                [26.168728, 44.752956],
                                                [26.161634, 44.753327],
                                                [26.161275, 44.756248],
                                                [26.154673, 44.756137],
                                                [26.152143, 44.759139],
                                                [26.142733, 44.756556],
                                                [26.138697, 44.759514],
                                                [26.137378, 44.756193],
                                                [26.142171, 44.753526],
                                                [26.130732, 44.749652],
                                                [26.112205, 44.754956],
                                                [26.103077, 44.766892],
                                                [26.098487, 44.762889],
                                                [26.093515, 44.76508],
                                                [26.086222, 44.763841],
                                                [26.09822, 44.740209],
                                                [26.094158, 44.741856],
                                                [26.086219, 44.741635],
                                                [26.083386, 44.746425],
                                                [26.078271, 44.745402],
                                                [26.075107, 44.750433],
                                                [26.071614, 44.7513],
                                                [26.061974, 44.749545],
                                                [26.060941, 44.747888],
                                                [26.06297, 44.744714],
                                                [26.061649, 44.741035],
                                                [26.05802, 44.738986],
                                                [26.050838, 44.739053],
                                                [26.048918, 44.734546],
                                                [26.046706, 44.736948],
                                                [26.048555, 44.74211],
                                                [26.041237, 44.743904],
                                                [26.034102, 44.742005],
                                                [26.024298, 44.744952],
                                                [26.017745, 44.742868],
                                                [26.010816, 44.743109],
                                                [25.999839, 44.73636],
                                                [25.997551, 44.739298],
                                                [25.986966, 44.745463],
                                                [25.98475, 44.742922],
                                                [25.978204, 44.741134],
                                                [25.97287, 44.736894],
                                                [25.965986, 44.739751],
                                                [25.960791, 44.738783],
                                                [25.95542, 44.742281],
                                                [25.954723, 44.745562],
                                                [25.950542, 44.745299],
                                                [25.950619, 44.739881],
                                                [25.948757, 44.738408],
                                                [25.947014, 44.739078],
                                                [25.947012, 44.744019],
                                                [25.940943, 44.745796],
                                                [25.935637, 44.743161],
                                                [25.934235, 44.744245],
                                                [25.934963, 44.74793],
                                                [25.932459, 44.748069],
                                                [25.92848, 44.744828],
                                                [25.923785, 44.743735],
                                                [25.924706, 44.738667],
                                                [25.921626, 44.739347],
                                                [25.921555, 44.734943],
                                                [25.917699, 44.734021],
                                                [25.915661, 44.737193],
                                                [25.91127, 44.734193],
                                                [25.907926, 44.733981],
                                                [25.911243, 44.721929],
                                                [25.920428, 44.711496],
                                                [25.926316, 44.709067],
                                                [25.928236, 44.698752],
                                                [25.934032, 44.695846],
                                                [25.953583, 44.722234],
                                                [25.956234, 44.720962],
                                                [25.958423, 44.722015],
                                                [25.961054, 44.719611],
                                                [25.967574, 44.720032],
                                                [25.974573, 44.699433],
                                                [25.98299, 44.698645],
                                                [25.987821, 44.693245],
                                                [25.977582, 44.689882],
                                                [25.975852, 44.686325],
                                                [25.970096, 44.686434],
                                                [25.973278, 44.677238],
                                                [25.977633, 44.673272],
                                                [25.974602, 44.671631],
                                                [25.978035, 44.667493],
                                                [25.973602, 44.661876],
                                                [25.959929, 44.65729],
                                                [25.941434, 44.658577],
                                                [25.938058, 44.645984],
                                                [25.983743, 44.625652],
                                                [25.99012, 44.618393],
                                                [25.990302, 44.614403],
                                                [25.972187, 44.602832],
                                                [25.972242, 44.601165],
                                                [25.951211, 44.58402],
                                                [25.93599, 44.575218],
                                                [25.904742, 44.563685],
                                                [25.887908, 44.579059],
                                                [25.875764, 44.585643],
                                                [25.862423, 44.573721],
                                                [25.886852, 44.559124],
                                                [25.873613, 44.553691],
                                                [25.882706, 44.549394]
                                            ],
                                            [
                                                [26.080611, 44.537178],
                                                [26.096783, 44.53845],
                                                [26.09625, 44.541075],
                                                [26.099846, 44.541933],
                                                [26.103941, 44.53844],
                                                [26.102435, 44.529287],
                                                [26.104685, 44.529443],
                                                [26.104821, 44.519202],
                                                [26.102123, 44.508632],
                                                [26.104204, 44.504325],
                                                [26.110137, 44.505696],
                                                [26.112601, 44.504064],
                                                [26.104898, 44.501461],
                                                [26.105175, 44.498541],
                                                [26.110792, 44.492175],
                                                [26.109849, 44.490756],
                                                [26.115024, 44.487371],
                                                [26.183218, 44.479234],
                                                [26.175992, 44.475559],
                                                [26.156052, 44.455584],
                                                [26.159183, 44.454182],
                                                [26.163194, 44.455272],
                                                [26.1619, 44.452904],
                                                [26.166147, 44.453336],
                                                [26.168354, 44.451468],
                                                [26.177044, 44.453759],
                                                [26.178002, 44.451844],
                                                [26.174323, 44.446643],
                                                [26.175105, 44.444254],
                                                [26.181784, 44.445732],
                                                [26.189392, 44.443925],
                                                [26.192693, 44.446808],
                                                [26.199716, 44.440839],
                                                [26.207249, 44.439449],
                                                [26.212161, 44.435943],
                                                [26.227022, 44.435366],
                                                [26.222907, 44.425468],
                                                [26.225803, 44.424901],
                                                [26.225194, 44.423598],
                                                [26.220694, 44.422932],
                                                [26.220233, 44.420794],
                                                [26.222215, 44.420237],
                                                [26.221172, 44.418046],
                                                [26.218189, 44.418376],
                                                [26.217448, 44.406834],
                                                [26.211608, 44.405587],
                                                [26.20931, 44.402933],
                                                [26.211187, 44.401365],
                                                [26.21238, 44.394863],
                                                [26.181793, 44.393343],
                                                [26.161048, 44.398083],
                                                [26.142632, 44.369517],
                                                [26.152007, 44.35686],
                                                [26.144773, 44.351874],
                                                [26.138624, 44.355627],
                                                [26.133199, 44.349788],
                                                [26.129904, 44.355239],
                                                [26.12146, 44.356216],
                                                [26.111696, 44.361969],
                                                [26.11301, 44.365587],
                                                [26.08014, 44.369658],
                                                [26.046337, 44.377478],
                                                [26.03402, 44.384974],
                                                [26.038723, 44.388026],
                                                [26.034534, 44.390506],
                                                [26.029422, 44.387874],
                                                [26.010392, 44.405846],
                                                [26.003429, 44.401801],
                                                [26.002499, 44.405619],
                                                [25.996039, 44.401807],
                                                [25.99008, 44.407812],
                                                [25.976105, 44.406446],
                                                [25.966648, 44.422006],
                                                [25.964962, 44.440416],
                                                [26.012536, 44.442915],
                                                [26.017078, 44.44603],
                                                [26.018825, 44.450836],
                                                [26.014598, 44.451529],
                                                [26.013849, 44.456179],
                                                [26.010893, 44.458289],
                                                [25.983276, 44.466809],
                                                [25.971912, 44.463395],
                                                [25.980372, 44.472013],
                                                [25.980833, 44.479629],
                                                [25.986512, 44.490772],
                                                [25.982762, 44.49527],
                                                [25.983723, 44.49794],
                                                [25.989739, 44.499554],
                                                [25.995581, 44.495812],
                                                [25.998547, 44.499],
                                                [26.00603, 44.498815],
                                                [26.009347, 44.512537],
                                                [26.024373, 44.520022],
                                                [26.021438, 44.523442],
                                                [26.024501, 44.527224],
                                                [26.033256, 44.523513],
                                                [26.068331, 44.534735],
                                                [26.073229, 44.538558]
                                            ]
                                        ]
                                    },
                                    "properties": {
                                        "NAME": "Ilfov"
                                    }
                                }]
                            }</textarea>
                            <div class="pull-right">
                                <button class="btn btn-small btn-primary" id="geojson_load">LOAD</button>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        
                        <div class="export">
                            <span class="label label-success">KML&lt;Polygon&gt;</span>                        
                            <textarea rows="4" class="btn-block" id="coordinates_kml"></textarea>
                        </div>
                        
                        <div class="export">
                            <span class="label label-success">google.maps.Polygon</span>
                            <textarea rows="4" class="btn-block" id="coordinates_gmaps_polygon"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            
            <br/>
            
            <footer>
                <p>&copy; <a href="http://www.vasile.ch">Vasile Coțovanu</a> 2013</p>
            </footer>
        </div>
        
        <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
        <script src="http://maps.googleapis.com/maps/api/js?v=3.12&amp;sensor=false&amp;libraries=places"></script>
        
        <script src="static/lib/infobox/infobox_packed.js" type="text/javascript" charset="utf-8"></script>

        <script src="static/page.js"></script>
    </body>
</html>
